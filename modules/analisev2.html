<!DOCTYPE html>
<html lang="pt-pt">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AnÃ¡lise V2</title>
  <link rel="stylesheet" href="../css/styles.pcolor.css">
  <link rel="stylesheet" href="../css/mobile.css">
  <link rel="icon" href="../favicon.ico" sizes="any">
  <link rel="apple-touch-icon" href="../icons/icon-192-v2.png">
  <link rel="manifest" href="../manifest.json">
  <meta name="theme-color" content="#000000">
</head>
<body id="analisev2-page" data-page="analisev2">
  <button id="menu-icon" aria-label="Open menu">â˜°</button>

  <header>
    <nav id="nav-menu">
      <div id="login-section" class="login-block">
        <a href="#" id="login-btn" class="login-visible">ğŸ” Login</a>
        <span id="user-info" class="user-visible" style="display:none;">
          <a href="#" id="user-name">ğŸ‘¤ Username</a>
        </span>
      </div>
      <div class="nav-links">
        <div class="nav-group" data-nav-group>
          <button class="nav-link nav-link--trigger" data-nav-toggle aria-haspopup="true" aria-expanded="false">
            ğŸ  Apartamentos
          </button>
          <div class="nav-dropdown" role="menu">
            <a href="faturas.html" role="menuitem">ğŸ“„ Faturas</a>
            <a href="analisev2.html" class="active" role="menuitem">ğŸ†• AnÃ¡lise</a>
            <a href="tmt.html" role="menuitem">ğŸ§³ Taxa TurÃ­stica</a>
            <a href="diversos.html" role="menuitem">ğŸ“‹ Diversos</a>
          </div>
        </div>
        <div class="nav-group" data-nav-group>
          <button class="nav-link nav-link--trigger" data-nav-toggle aria-haspopup="true" aria-expanded="false">
            ğŸ’¼ Contabilidade
          </button>
          <div class="nav-dropdown" role="menu">
            <a href="caixa.html" role="menuitem">ğŸ’° Caixa</a>
            <a href="iva.html" role="menuitem">ğŸ“‘ IVA Estrangeiro</a>
            <a href="pallco.html" role="menuitem">ğŸ¢ PALLCO</a>
            <a href="carlos.html" role="menuitem">ğŸ§¾ Carlos â€“ Faturas</a>
          </div>
        </div>
        <div class="nav-group" data-nav-group>
          <button class="nav-link nav-link--trigger" data-nav-toggle aria-haspopup="true" aria-expanded="false">
            ğŸ“Š Investimentos
          </button>
          <div class="nav-dropdown" role="menu">
            <a href="dca.html" role="menuitem">ğŸ“ˆ DCA</a>
            <a href="crypto.html" role="menuitem">ğŸš€ Cripto</a>
          </div>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="page-intro">
      <h2>AnÃ¡lise Apartamentos</h2>
    </div>
    <p class="page-meta" id="analisev2-updated">Atualizado a â€”</p>

    <section id="mod-progresso" class="report-section progresso-container" data-module="progresso">
      <div class="viz-card progress-card">
        <div class="progress-header">
          <h4>Progresso</h4>
        </div>

        <div class="chart-toolbar progress-toolbar">
          <div class="toolbar-left segmented segmented--compact" role="tablist" aria-label="Selecionar granularidade do progresso">
            <button class="chip-btn active" data-progress-granularity="mes" role="tab" aria-pressed="true">Por mÃªs</button>
            <button class="chip-btn" data-progress-granularity="dia" role="tab" aria-pressed="false">Por dia</button>
          </div>

          <div class="toolbar-center segmented segmented--primary" role="tablist" aria-label="Selecionar vista dos apartamentos">
            <button class="filter-btn active" data-progress-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-progress-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-progress-view="1248" role="tab" aria-pressed="false">1248</button>
          </div>

          <div class="toolbar-right toolbar-placeholder" aria-hidden="true"></div>
        </div>

        <div class="donut-grid">
          <div class="donut-card" data-metric="parcial">
            <strong class="donut-title" id="label-parcial">
              Parcial <span class="month-label"></span>
            </strong>
            <canvas id="donut-parcial" aria-label="Parcial atÃ© ao dia atual" role="img"></canvas>
            <div class="donut-meta">
              <span id="donut-parcial-text">â€”</span>
            </div>
          </div>

          <div class="donut-card" data-metric="ate">
            <strong class="donut-title" id="label-ateset">
              AtÃ© <span class="month-label"></span>
            </strong>
            <canvas id="donut-ateset" aria-label="AtÃ© mÃªs anterior" role="img"></canvas>
            <div class="donut-meta">
              <span id="donut-ateset-text">â€”</span>
            </div>
          </div>

          <div class="donut-card" data-metric="vs">
            <strong class="donut-title" id="label-vs">
              Ano vs Ano <span class="month-label"></span>
            </strong>
            <canvas id="donut-vs" aria-label="Ano atual vs ano anterior" role="img"></canvas>
            <div class="donut-meta">
              <span id="donut-vs-text">â€”</span>
            </div>
          </div>

          <div class="donut-card" data-metric="avg">
            <strong class="donut-title" id="label-avg">
              Ano vs MÃ©dia <span class="month-label"></span>
            </strong>
            <canvas id="donut-avg" aria-label="Ano atual vs mÃ©dia histÃ³rica" role="img"></canvas>
            <div class="donut-meta">
              <span id="donut-avg-text">â€”</span>
            </div>
          </div>
        </div>

      </div>
    </section>

    <section id="mod-faturacao" class="report-section" data-module="faturacao">
      <div class="viz-card chart-and-table">
        <div class="section-heading">
          <h4>FaturaÃ§Ã£o</h4>
        </div>

        <div class="chart-wrap" style="height:320px">
          <canvas id="chart-faturacao-v2"></canvas>
        </div>

        <div class="chart-toolbar">
          <div class="toolbar-left segmented segmented--compact" role="tablist" aria-label="Selecionar granularidade">
            <button class="chip-btn active" data-granularity="mes" role="tab" aria-pressed="true">Por mÃªs</button>
            <button class="chip-btn" data-granularity="dia" role="tab" aria-pressed="false">Por dias</button>
          </div>

          <div class="toolbar-center segmented segmented--primary faturacao-view-switch" role="tablist" aria-label="Selecionar vista de faturaÃ§Ã£o">
            <button class="filter-btn active" data-faturacao-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-faturacao-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-faturacao-view="1248" role="tab" aria-pressed="false">1248</button>
            <button class="filter-btn" data-faturacao-view="compare" role="tab" aria-pressed="false">123 vs 1248</button>
          </div>

          <div class="toolbar-right segmented segmented--compact" role="tablist" aria-label="Selecionar tipo de grÃ¡fico">
            <button class="chip-btn active" data-chart-type="line" role="tab" aria-pressed="true">Linhas</button>
            <button class="chip-btn" data-chart-type="bar" role="tab" aria-pressed="false">Barras</button>
          </div>
        </div>

        <div class="table-wrap">
          <div id="tabela-faturacao-v2"></div>
        </div>
      </div>
    </section>

    <section id="mod-ocupacao" class="report-section" data-module="ocupacao">
      <div class="viz-card chart-and-table">
        <div class="section-heading">
          <h4>Taxa de ocupaÃ§Ã£o (%)</h4>
        </div>

        <div class="chart-toolbar">
          <div class="toolbar-center segmented segmented--primary" role="tablist" aria-label="Selecionar vista da taxa de ocupaÃ§Ã£o">
            <button class="filter-btn active" data-ocupacao-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-ocupacao-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-ocupacao-view="1248" role="tab" aria-pressed="false">1248</button>
          </div>
        </div>

        <div class="chart-wrap" style="height:320px">
          <canvas id="chart-ocupacao"></canvas>
        </div>
      </div>
    </section>

    <section id="mod-valor-medio" class="report-section" data-module="valor-medio">
      <div class="viz-card chart-and-table">
        <div class="section-heading">
          <h4>Valor mÃ©dio/noite por reserva</h4>
        </div>

        <div class="chart-toolbar">
          <div class="toolbar-center segmented segmented--primary" role="tablist" aria-label="Selecionar vista de valor mÃ©dio">
            <button class="filter-btn active" data-valor-medio-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-valor-medio-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-valor-medio-view="1248" role="tab" aria-pressed="false">1248</button>
            <button class="filter-btn" data-valor-medio-view="compare" role="tab" aria-pressed="false">1248 vs 123</button>
          </div>
        </div>

        <div class="chart-wrap" style="height:320px">
          <canvas id="chart-valor-medio"></canvas>
        </div>
      </div>
    </section>

    <section id="mod-heatmap" class="report-section" data-module="heatmap">
      <div class="viz-card">
        <div class="section-heading">
          <h4>Heatmap â€“ variaÃ§Ã£o mensal (%)</h4>
          <p>ComparaÃ§Ã£o de receita mensal vs. ano anterior</p>
        </div>

        <div class="chart-toolbar">
          <div class="toolbar-center segmented segmented--primary" role="tablist" aria-label="Selecionar vista do heatmap">
            <button class="filter-btn active" data-heatmap-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-heatmap-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-heatmap-view="1248" role="tab" aria-pressed="false">1248</button>
          </div>
        </div>

        <div id="heatmap-variacao-analisev2" class="heatmap-area"></div>
      </div>
    </section>

    <section id="mod-taxalimpeza" class="report-section" data-module="taxa-limpeza">
      <div class="viz-card">
        <div class="section-heading">
          <h4>Taxa de limpeza</h4>
          <p>Resumo mensal da taxa cobrada por reserva</p>
        </div>

        <div class="chart-toolbar">
          <div class="toolbar-center segmented segmented--primary" role="tablist" aria-label="Selecionar vista da taxa de limpeza">
            <button class="filter-btn active" data-limpeza-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-limpeza-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-limpeza-view="1248" role="tab" aria-pressed="false">1248</button>
          </div>
        </div>

        <div class="table-wrap" id="taxa-limpeza-table"></div>
      </div>
    </section>

    <section id="mod-noites-hospedes" class="report-section" data-module="noites-hospedes">
      <div class="viz-card">
        <div class="section-heading">
          <h4>Noites & HÃ³spedes por reserva</h4>
          <p>EvoluÃ§Ã£o mensal desde 2025</p>
        </div>

        <div class="chart-toolbar">
          <div class="toolbar-center segmented segmented--primary" role="tablist" aria-label="Selecionar vista de noites e hÃ³spedes">
            <button class="filter-btn active" data-nohosp-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-nohosp-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-nohosp-view="1248" role="tab" aria-pressed="false">1248</button>
          </div>
          <div class="toolbar-right segmented segmented--compact" role="tablist" aria-label="Selecionar tabela">
            <button class="chip-btn active" data-table-select="noites" role="tab" aria-pressed="true">Noites</button>
            <button class="chip-btn" data-table-select="hospedes" role="tab" aria-pressed="false">HÃ³spedes</button>
          </div>
        </div>

        <div class="table-wrap">
          <div id="tabela-noites-combo"></div>
          <div id="tabela-hospedes-combo" style="display:none"></div>
        </div>
      </div>
    </section>

    <section id="mod-checkins-semana" class="report-section" data-module="checkins-semana">
      <div class="viz-card">
        <div class="section-heading">
          <h4>Dias da Semana â€“ Check-ins</h4>
          <p>Comparativo entre ano atual e anterior</p>
        </div>

        <div class="chart-toolbar">
          <div class="toolbar-center segmented segmented--primary" role="tablist" aria-label="Selecionar apartamentos do check-in">
            <button class="filter-btn active" data-checkins-view="total" role="tab" aria-pressed="true">Total (123 + 1248)</button>
            <button class="filter-btn" data-checkins-view="123" role="tab" aria-pressed="false">123</button>
            <button class="filter-btn" data-checkins-view="1248" role="tab" aria-pressed="false">1248</button>
          </div>
        </div>

        <div class="chart-wrap" style="height:320px">
          <canvas id="chart-checkins-semana"></canvas>
        </div>
      </div>
    </section>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
  <script type="module" src="../js/analisev2-error-handler.js"></script>
  <script type="module" src="../js/analisev2-loading.js"></script>
  <script type="module" src="../js/script.js"></script>
  <script type="module" src="../js/analisev2-progresso.js"></script>
  <script type="module" src="../js/analisev2-faturacao.js"></script>
  <script type="module" src="../js/analisev2-ocupacao.js"></script>
  <script type="module" src="../js/analisev2-taxalimpeza.js"></script>
  <script type="module" src="../js/analisev2-noites-hospedes.js"></script>
  <script type="module" src="../js/analisev2-checkins-semana.js"></script>
  <script type="module" src="../js/analisev2-heatmap.js"></script>
  <script type="module" src="../js/analisev2-valor-medio.js"></script>
</body>
</html>
