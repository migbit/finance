<!DOCTYPE html>
<html lang="pt-pt">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Análise 123 vs 1248</title>
  <link rel="stylesheet" href="../css/styles.pcolor.css">
  <link rel="stylesheet" href="../css/mobile.css">
  <link rel="icon" href="../favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="../icons/icon-192-v2.png" />
  <link rel="manifest" href="../manifest.json" />
  <meta name="theme-color" content="#000000" />

  <style>
  /* Igual às outras páginas + otimizado para caber numa linha */
  .tab-navigation{
    position: fixed;
    top: 0;
    left: var(--sidebar-width, 260px);
    right: 0;
    z-index: 90;
    display: flex;
    flex-wrap: nowrap;
    justify-content: space-between;
    gap: 6px;
    overflow-x: auto;
    margin-bottom: 24px; /* mantém compat */
    border-bottom: 2px solid var(--border);
    padding: 8px 10px;
    background: var(--card, #fff);
    box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    scrollbar-width: none;
  }
  .tab-navigation::-webkit-scrollbar{ display:none; }

  .tab-btn{
    flex: 1 1 auto;
    text-align: center;
    padding: 8px 12px;
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: var(--radius-sm) var(--radius-sm) 0 0;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-dim);
    white-space: nowrap;
    transition: all .2s;
  }
  .tab-btn:hover{ background: var(--p4); color: var(--p2); }
  .tab-btn.active{ background: var(--p2); color:#fff; border-bottom:2px solid var(--p2); }

  @media (max-width:1024px){
    .tab-navigation{ gap:4px; padding:8px; }
    .tab-btn{ font-size:.85rem; padding:6px 10px; }
  }
  </style>

</head>
<body id="analise123vs1248-page">
          <!-- Hamburger icon (always visible on mobile) -->
          <button id="menu-icon" aria-label="Open menu">☰</button>
    <header>
      <nav id="nav-menu">
        <ul>
          <!-- Login/User section at top -->
          <li id="login-section" class="login-block">
            <a href="#" id="login-btn" class="login-visible">🔐 Login</a>
            <span id="user-info" class="user-visible" style="display:none;">
              <a href="#" id="user-name">👤 Username</a>
            </span>
          </li>

          <li class="separator"></li>

          <!-- Secção: Apartamentos -->
          <li class="menu-title">Apartamentos</li>
          <li><a href="faturas.html">📄 Faturas</a></li>
          <li><a href="analise.html">📊 Análise</a></li>
          <li><a href="analise123.html">🏠 123</a></li>
          <li><a href="analise1248.html">🏠 1248</a></li>
          <li><a href="analise123vs1248.html" class="active">⚖️ 123 vs 1248</a></li>
          <li><a href="caixa.html">💰 Caixa</a></li>
          <li><a href="tmt.html">🧳 Taxa Turística</a></li>
          <li><a href="diversos.html">📋 Diversos</a></li>

          <li class="separator"></li>

          <!-- Secção: Investimentos -->
          <li class="menu-title">Investimentos</li>
          <li><a href="dca.html">📈 DCA</a></li>
          <li><a href="crypto.html">🚀 Cripto</a></li>
        </ul>
      </nav>
    </header>

<main class="report-wide">

  <!-- Tab Navigation -->
    <div class="tab-navigation">
      <button class="tab-btn" data-target="#fat-mensal">📊 Faturação mensal</button>
      <button class="tab-btn" data-target="#media-noite">🌙 Média por noite</button>
      <button class="tab-btn" data-target="#taxa-ocupacao">📅 Taxa de ocupação</button>
      <button class="tab-btn" data-target="#taxa-limpeza">🧼 Taxa de Limpeza</button>
      <button class="tab-btn" data-target="#checkins-dow">📆 Check-ins / dia</button>
    </div>


  <h2 class="center">Comparativo lado a lado</h2>

    <section id="fat-mensal" class="report-section">
    <div class="viz-card">
      <h3 class="center">Faturação mensal</h3>

      <div class="chart-wrap" style="height:320px">
        <canvas id="chart-fat-mensal"></canvas>
      </div>

      <div class="table-wrap">
        <div id="tabela-fat-mensal" class="mt-2"></div>
      </div>
    </div>
  </section>


  <section id="media-noite" class="report-section">
    <h3 class="center">Valor médio por noite (€/noite)</h3>
    <div class="chart-wrapper viz-card" style="height:260px">
      <canvas id="chart-media-noite"></canvas>
    </div>
  </section>

  <section id="taxa-ocupacao" class="report-section">
    <h3 class="center">Taxa de ocupação (%)</h3>
    <div class="chart-wrapper viz-card" style="height:260px">
      <canvas id="chart-ocupacao"></canvas>
    </div>
  </section>

    <section id="taxa-limpeza" class="report-section">
    <div class="viz-card">
      <h3 class="center">Taxa de Limpeza — 123 vs 1248</h3>
      <div class="table-wrap">
        <div id="tabela-limpeza-123vs1248"></div>
      </div>
    </div>
  </section>

  <section id="checkins-dow" class="report-section">
    <h3 class="center">Check-ins por dia da semana</h3>
    <div class="chart-wrapper viz-card" style="height:260px">
      <canvas id="chart-checkins-dow"></canvas>
    </div>
  </section>

</main>


  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script type="module" src="../js/script.js"></script>
  <script type="module" src="../js/analise123vs1248.js"></script>

  <script>
document.querySelectorAll('.tab-navigation .tab-btn').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    const t = document.querySelector(btn.dataset.target);
    if(!t) return;
    const offset = 90; // altura da barra fixa
    const top = t.getBoundingClientRect().top + window.scrollY - offset;
    window.scrollTo({ top, behavior:'smooth' });
    // estado ativo visual (opcional)
    document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
  });
});
</script>

</body>
</html>